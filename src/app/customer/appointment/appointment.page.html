<!-- Sidebar for small screens -->
<app-home-sidebar *ngIf="!(screenSizeService.isLargeScreen$ | async)"></app-home-sidebar>

<!-- Header for small screens -->
<ion-header *ngIf="!(screenSizeService.isLargeScreen$ | async)">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button menu="first"></ion-menu-button>
    </ion-buttons>
    <ion-title>Car Wash App</ion-title>
  </ion-toolbar>
</ion-header>

<!-- Header for large screens -->
<app-home-header *ngIf="screenSizeService.isLargeScreen$ | async"></app-home-header>

<!-- Main Content -->
<ion-content [fullscreen]="true" class="appointment-page">
  <div class="page-container">
    <!-- Page Title Section -->
    <div class="page-header">
      <div class="title-section">
        <div class="main-title">
          <h1>Appointments</h1>
          <p class="subtitle">Manage your car wash bookings</p>
        </div>
        
        <!-- Stats Overview -->
        <div class="stats-overview">
          <div class="stat-item scheduled">
            <div class="stat-icon">
              <ion-icon name="calendar-outline"></ion-icon>
            </div>
            <div class="stat-info">
              <span class="stat-number">{{ getStatCount('scheduled') }}</span>
              <span class="stat-label">Scheduled</span>
            </div>
          </div>
          
          <div class="stat-item completed">
            <div class="stat-icon">
              <ion-icon name="checkmark-circle-outline"></ion-icon>
            </div>
            <div class="stat-info">
              <span class="stat-number">{{ getStatCount('history') }}</span>
              <span class="stat-label">Completed</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Navigation Tabs -->
    <div class="navigation-section">
      <div class="nav-tabs">
        <button 
          class="nav-tab"
          [class.active]="selectedView === 'scheduled'"
          (click)="setActiveView('scheduled')">
          <ion-icon name="calendar-outline"></ion-icon>
          <span>Scheduled</span>
          <div class="tab-indicator" *ngIf="selectedView === 'scheduled'"></div>
        </button>

        <button 
          class="nav-tab"
          [class.active]="selectedView === 'history'"
          (click)="setActiveView('history')">
          <ion-icon name="library-outline"></ion-icon>
          <span>History</span>
          <div class="tab-indicator" *ngIf="selectedView === 'history'"></div>
        </button>
      </div>
    </div>

    <!-- Content Section -->
    <div class="content-section">

      <!-- Content Container -->
      <div class="content-container">
        <div class="content-wrapper" [class.fade-in]="contentLoaded">
          <!-- Scheduled Component -->
          <div *ngIf="selectedView === 'scheduled'" class="component-wrapper">
            <app-schedules></app-schedules>
          </div>

          <!-- History Component -->
          <div *ngIf="selectedView === 'history'" class="component-wrapper">
            <app-history></app-history>
          </div>
        </div>
      </div>
    </div>
  </div>
</ion-content>